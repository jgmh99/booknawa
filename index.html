<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booknawa::북나와</title>

    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dongle&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dongle&family=Song+Myung&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dongle&family=Noto+Sans+KR:wght@100..900&family=Song+Myung&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="./CSS/common.css">
    <link rel="stylesheet" href="./CSS/header.css">
    <link rel="stylesheet" href="./CSS/index-main.css">
    <link rel="stylesheet" href="../CSS/footer.css">

    <style>
        #right_aside {
            position: -webkit-sticky; /* Safari용 */
            position: sticky;
            top: 20px; /* 상단에서 얼마나 떨어져 있을지 지정 */
        }
    </style>
</head>
<body>
    <Header>
        <div id="heder_Top">
            <a href="./index.html">
                <img src="./IMG/Booknawa.png" alt="책나와 로고">
            </a>
            <nav>
                <ul>
                    <li id="cart"><a href="#"><img src="./IMG/cart.png" alt="장바구니"></a></li>
                    <li id="cart"><a href="#"><img src="./IMG/cart.png" alt="찜"></a></li>
                </ul>
            </nav>
        </div>
        <div id="heder_Bot">
            <div id="search_bar">
                <input type="text" id="searchInput" placeholder="검색할 책을 입력해주세요!">
                <button id="searchButton" onclick=searchBooks()><img src="./IMG/searchbtn.png" alt=""></button>
            </div>
            <nav>
                <ul>
                    <li><a href="#"><p>상세 검색</p></a></li>
                    <li><a href="#"><p>감상문</p></a></li>
                    <li><a href="#"><p>Best</p></a></li>
                    <li><a href="#"><p>E-Book</p></a></li>
                    <li><a href="#"><p>이벤트</p></a></li>
                </ul>
            </nav>
        </div>
    </Header>
    <Main>
        <Section id="sec">
            <div class="carousel_container">
                <p class="sec_name">MD's Pick</p>
                <div id="sec_today_sug" class="carousel-slide">
                     <!-- 동적으로 책 정보가 추가 -->
                </div>
                <button id="prevButton" data-carousel="sec_today_sug">＜</button>
                <button id="nextButton" data-carousel="sec_today_sug">＞</button>
            </div>
            <div id="ad" class="ad_1">
                <div class="ad_1_1">
                    <img src="./IMG/opensale.jpeg" alt="">
                </div>
                <div class="ad_1_2">
                    <img src="./IMG/opensale2.jpeg" alt="">
                </div>
                
            </div>

            <div id="bm_suggestion" class="carousel_container">
                <p class="sec_name">이번주의 책</p>
                <div id="sec_pub_rec" class="carousel-slide">
                    <!-- 동적으로 책 정보가 추가 -->
               </div>
               <button id="prevButton" data-carousel="sec_pub_rec">＜</button>
               <button id="nextButton" data-carousel="sec_pub_rec">＞</button>
            </div>

            <div id="ad" class="ad_2">
                <a href="https://product.kyobobook.co.kr/detail/S000212390381" >
                    <img src="./IMG/ad_2.png" alt="">
                </a>
            </div>
        </Section>
        <aside id="right_aside">
            <div id="login_box">
                <p id="welcome_booknawa">북나와를 더 편리하게 이용하세요</p>
                <button onclick="login()"><span>Booknawa</span>로그인</button>
                <div id="join_booknawa">
                    <a href="#"><p>아이디 찾기</p></a>
                    <p> | </p>
                    <a href="#"><p>비밀번호 찾기</p></a>
                    <p> | </p>
                    <a href="#"><p>회원가입</p></a>
                </div>
            </div>
            <div id="sec_recent_view">
                <p class="sec_name">최근 살펴본 상품</p>

                <button id="deleteCookieBtn">전체 지우기</button>


                <div id="recent_view" >
                    <!-- 최근 본 상품 -->
                </div>
            </div>
            <!-- <div id="my_benefits">
                혜택
            </div> -->
            <!-- <div id="my_save">
                찜한 목록
            </div> -->
        </aside>
        <div id="results"></div>
    </Main>
    <!-- <hr id="hr">
    <footer>
        asd
    </footer> -->
</body>
<!-- <script type="module" src="./JS/commonJs/detailCategory.js"></script> -->
<script src="./JS/index.js"></script>
<script src="./JS/carousel.js"></script>
<script src="./JS/header-searchbar.js"></script>
<script>
    function login() {
        window.location.href = './HTML/login.html';
    }

    window.addEventListener('scroll', function() {
    const aside = document.getElementById('right_aside');
    const hr = document.getElementById('hr');
    if (aside && hr) { // 요소가 null이 아닌지 확인
        const hrPosition = hr.getBoundingClientRect().top + window.pageYOffset;
        const asideHeight = aside.offsetHeight;
        
        if (window.scrollY + asideHeight > hrPosition) {
            // aside를 hr의 위쪽에 위치시킵니다. 필요에 따라 조정하세요.
            aside.style.position = 'absolute';
            aside.style.top = hrPosition - asideHeight + 'px';
        } else {
            // 원래대로 스티키 효과를 적용합니다.
            aside.style.position = 'sticky';
            aside.style.top = '20px';
        }
    }
});
</script>
</html>
